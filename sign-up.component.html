<div class="container">
  <h1>Sign Up</h1>
  <div *ngIf="this.error"><h4>Error signing up</h4></div>
  <div *ngIf="!this.error && this.saved"><h4>Sign up successful</h4></div>
  <form #signUpForm="ngForm">
    <div class="form-group">
      <label for="username">Username</label>
      <input type="text" class="form-control" id="username"
             [(ngModel)]="this.info.loginInfo.userName" name="username"
             required maxlength="50" minlength="1"
             #username="ngModel" placeholder="Enter a username">
      <div *ngIf="username.invalid && (username.dirty || username.touched)"
           class="alert alert-danger">
        <div *ngIf="username.errors.required">Username is required</div>
      </div>
    </div>
    <div class="form-group">
      <label for="password">Password</label>
      <input type="password" class="form-control" id="password"
             [(ngModel)]="this.info.loginInfo.password" name="password"
             required maxlength="20" minlength="8" (ngModelChange)="validatePassword()"
             #pwd="ngModel" placeholder="Enter new password">
      <div *ngIf="pwd.invalid && (pwd.dirty || pwd.touched)"
           class="alert alert-danger">
        <div *ngIf="pwd.errors.required">Password is required</div>
        <div *ngIf="pwd.errors.minlength">Password must be at least 8 characters long</div>
        <div *ngIf="pwd.errors.requirements">First character must be capital and must contain an alphanumeric character</div>
      </div>
    </div>
    <div class="form-group">
      <label for="confirmPassword">Confirm Password</label>
      <input type="password" class="form-control" id="confirmPassword"
             [(ngModel)]="confirmPassword" name="confirmPassword"
             required maxlength="20" minlength="8" (ngModelChange)="confirmPwd()"
             #confirm="ngModel" placeholder="Confirm Password">
      <div *ngIf="confirm.invalid && (confirm.dirty || confirm.touched)"
           class="alert alert-danger">
        <div *ngIf="confirm.errors.required">Password is required</div>
        <div *ngIf="confirm.errors.minlength">Password must be at least 8 characters long</div>
        <div *ngIf="confirm.errors.matching">Passwords don't match</div>
      </div>
    </div>
    <div class="form-group">
      <label for="firstName">First Name</label>
      <input type="text" class="form-control" id="firstName"
             [(ngModel)]="this.info.firstName" name="firstName"
             required maxlength="50" minlength="1"
             #firstName="ngModel" placeholder="Enter first name">
      <div *ngIf="firstName.invalid && (firstName.dirty || firstName.touched)"
           class="alert alert-danger">
        <div *ngIf="firstName.errors.required">First Name is required</div>
      </div>
    </div>
    <div class="form-group">
      <label for="lastName">Last Name</label>
      <input type="text" class="form-control" id="lastName"
             [(ngModel)]="this.info.lastName" name="lastName"
             required maxlength="50" minlength="1"
             #lastName="ngModel" placeholder="Enter last name">
      <div *ngIf="lastName.invalid && (lastName.dirty || lastName.touched)"
           class="alert alert-danger">
        <div *ngIf="lastName.errors.required">Last Name is required</div>
      </div>
    </div>
    <div class="form-group">
      <label for="emailAddress">Email Address</label>
      <input type="email" class="form-control" id="emailAddress"
             [(ngModel)]="this.info.emailAddress" name="emailAddress"
             required maxlength="50" minlength="1" pattern="[a-zA-Z0-9]+@[a-zA-Z0-9]+\.[a-zA-Z]{2,4}"
             #email="ngModel" placeholder="Enter email address">
      <div *ngIf="email.invalid && (email.dirty || email.touched)"
           class="alert alert-danger">
        <div *ngIf="email.errors.required">Email address is required</div>
        <div *ngIf="email.errors.pattern">Email Address is invalid</div>
      </div>
    </div>
    <div class="form-group">
      <label for="phoneNumber">Phone Number</label>
      <input type="text" class="form-control" id="phoneNumber"
             [(ngModel)]="this.info.phoneNumber" name="phoneNumber"
             required maxlength="50" minlength="1"
             #phoneNumber="ngModel" placeholder="Enter phone number">
      <div *ngIf="phoneNumber.invalid && (phoneNumber.dirty || phoneNumber.touched)"
           class="alert alert-danger">
        <div *ngIf="phoneNumber.errors.required">Phone number is required</div>
      </div>
    </div>
    <div class="form-group">
      <label for="streetNumber">Street Number</label>
      <input type="number" class="form-control" id="streetNumber"
             [(ngModel)]="this.info.address.streetNumber" name="streetNumber"
             required
             #streetNumber="ngModel" placeholder="Enter street number">
      <div *ngIf="streetNumber.invalid && (streetNumber.dirty || streetNumber.touched)"
           class="alert alert-danger">
        <div *ngIf="streetNumber.errors.required">Street number is required</div>
      </div>
    </div>
    <div class="form-group">
      <label for="streetName">Street Name</label>
      <input type="text" class="form-control" id="streetName"
             [(ngModel)]="this.info.address.streetName" name="streetName"
             required maxlength="50"
             #streetName="ngModel" placeholder="Enter street name">
      <div *ngIf="streetName.invalid && (streetName.dirty || streetName.touched)"
           class="alert alert-danger">
        <div *ngIf="streetName.errors.required">Street name is required</div>
      </div>
    </div>
    <div class="form-group">
      <label for="city">City</label>
      <input type="text" class="form-control" id="city"
             [(ngModel)]="this.info.address.city" name="city"
             required maxlength="50"
             #city="ngModel" placeholder="Enter city">
      <div *ngIf="city.invalid && (city.dirty || city.touched)"
           class="alert alert-danger">
        <div *ngIf="city.errors.required">City is required</div>
      </div>
    </div>
    <div class="form-group">
      <label for="country">Country</label>
      <input type="text" class="form-control" id="country"
             [(ngModel)]="this.info.address.country" name="country"
             required maxlength="50"
             #country="ngModel" placeholder="Enter country">
      <div *ngIf="country.invalid && (country.dirty || country.touched)"
           class="alert alert-danger">
        <div *ngIf="country.errors.required">Country is required</div>
      </div>
    </div>
    <div class="form-group">
      <label for="postalCode">Postal Code</label>
      <input type="text" class="form-control" id="postalCode"
             [(ngModel)]="this.info.address.postalCode" name="postalCode"
             required maxlength="50"
             #postalCode="ngModel" placeholder="Enter country">
      <div *ngIf="postalCode.invalid && (postalCode.dirty || postalCode.touched)"
           class="alert alert-danger">
        <div *ngIf="postalCode.errors.required">Postal Code is required</div>
      </div>
    </div>
    <button class="btn btn-success" (click)="signUp()" [disabled]="!(signUpForm.form.valid)">Sign Up</button> &nbsp;
    <button class="btn btn-default" (click)="goBack()">Go Back</button>
  </form>
</div>
